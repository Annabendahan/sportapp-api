(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(17),i=a.n(s),l=(a(44),a(6)),r=a(7),o=a(9),u=a(8),p=a(10),d=(a(46),a(18)),m=a(12),h=a.n(m),E=a(11),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={count:0},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e="Urgent";2===this.props.capacity?e="Semi-urgent":1===this.props.capacity&&(e="Pas urgent");var t=c.a.createElement("p",{className:"check full"}," ",c.a.createElement(E.MDBIcon,{icon:"check"})," ");return console.log(this.props.liked),!1===this.props.liked&&(t=c.a.createElement("p",{className:"check empty"}," ",c.a.createElement(E.MDBIcon,{icon:"check"})," ")),c.a.createElement("div",null,c.a.createElement("div",{className:"urgence"+this.props.capacity,onClick:this.props.clicked},e),c.a.createElement("span",{className:"deleteButton",onClick:this.props.erase},c.a.createElement(E.MDBIcon,{icon:"times"})),c.a.createElement("span",{className:"modifyButton",onClick:this.props.clicked},c.a.createElement(E.MDBIcon,{icon:"pen"})),c.a.createElement("div",{className:"Like",onClick:this.props.like},t),c.a.createElement("h4",{onClick:this.props.clicked},this.props.title," "),c.a.createElement("p",{className:"cat",onClick:this.props.clicked},this.props.category),c.a.createElement("p",{onClick:this.props.clicked},this.props.description),c.a.createElement("p",null," ",this.props.liked," "))}}]),t}(n.Component),g=a(19),k=a.n(g),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleBlur=function(){var e={title:a.state.title,description:a.state.description,capacity:a.state.capacity,category:a.state.category};h.a.put("/api/courses/".concat(a.props.course.id),{course:e}).then(function(e){console.log(e),a.props.updateCourse(e.data)}).catch(function(e){return console.log(e)})},a.handleInput=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.state={title:a.props.course.title,description:a.props.course.description,capacity:a.props.course.capacity,category:a.props.course.category,liked:a.props.course.liked},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:this.handleBlur}," ",c.a.createElement("input",{className:"modif",type:"submit",value:"Valider"}),c.a.createElement("p",null," Urgence level ",c.a.createElement("input",{name:"capacity",type:"number",placeholder:"Urgence level",max:3,min:1,onChange:this.handleInput,value:this.state.capacity})," "),c.a.createElement("p",null," ",c.a.createElement("input",{className:"input",type:"text",name:"title",placeholder:"Enter a Title",value:this.state.title,onChange:this.handleInput})," "),c.a.createElement("label",null,c.a.createElement("p",null,"Category:",c.a.createElement("select",{name:"category",value:this.state.category,onChange:this.handleInput,onClick:this.handleInput},c.a.createElement("option",{value:"PRO"},"PRO"),c.a.createElement("option",{value:"PERSO"},"PERSO ")))),c.a.createElement("p",null," ",c.a.createElement("textarea",{className:"input",name:"description",placeholder:"Describe your course",value:this.state.description,onChange:this.handleInput}))))}}]),t}(n.Component),y=function(e){return e.show?c.a.createElement("div",{className:"Backdrop",onClick:e.clicked}," "):null},b=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(y,{show:this.props.show,clicked:this.props.modalClosed}),c.a.createElement("div",{className:"Modal",style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"O "}},this.props.children))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).addNewCourse=function(){h.a.post("/api/courses",{course:{title:"",description:"",capacity:1,address:"",liked:!1,category:" "}}).then(function(e){console.log(e);var t=k()(a.state.courses,{$splice:[[0,0,e.data]]});a.setState({notification:null,courses:t,editingCourseId:e.data.id})}).catch(function(e){return console.log(e)})},a.updateCourse=function(e){var t=a.state.courses.findIndex(function(t){return t.id===e.id}),n=k()(a.state.courses,Object(d.a)({},t,{$set:e}));a.setState({courses:n,notification:"All changes saved !",editingCourseId:null}),console.log(a.state.notification)},a.enableEditing=function(e){a.setState({editingCourseId:e,notification:null})},a.likedHandler=function(e){var t=a.state.courses.find(function(t){return t.id===e.id});t.liked=!t.liked;var n={liked:t.liked};h.a.put("/api/courses/".concat(e.id),{course:n}).then(function(e){console.log(e);var c=k()(a.state.courses,Object(d.a)({},t,{$set:n}));a.setState({courses:c}),t.liked&&a.setState({greetings:!0})}).catch(function(e){return console.log(e)})},a.deleteHandler=function(e){h.a.delete("/api/courses/".concat(e)).then(function(t){var n=a.state.courses.findIndex(function(t){return t.id===e}),c=k()(a.state.courses,{$splice:[[n,1]]});a.setState({courses:c})}).catch(function(e){return console.log(e)})},a.stopGreetings=function(){a.setState({greetings:!1})},a.state={courses:[],editingCourseId:null,notification:null,greetings:!1},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/api/courses").then(function(t){console.log(t),e.setState({courses:t.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=0,a=0,n=0,s=this.state.courses.length;console.log(this.state.courses.length),this.state.courses.map(function(e){e.liked?t++:3===e.capacity?a++:2===e.capacity&&n++});var i=t/s*100,l=Math.round(i),r=this.state.courses.map(function(t){return e.state.editingCourseId===t.id?c.a.createElement("div",{className:"tile",key:t.id},c.a.createElement(v,{course:t,key:t.id,updateCourse:e.updateCourse,resetNotification:e.resetNotification})):c.a.createElement("div",{className:"tile",key:t.id},c.a.createElement(f,{erase:function(){return e.deleteHandler(t.id)},title:t.title,category:t.category,description:t.description,capacity:t.capacity,address:t.address,clicked:function(){return e.enableEditing(t.id)},like:function(){return e.likedHandler(t)},liked:t.liked}))}),o=[],u=[];return r.forEach(function(e){console.log(e.props.children.props.liked),e.props.children.props.liked?o.push(e):u.push(e)}),console.log(u),c.a.createElement("div",null,c.a.createElement("button",{className:"newCourseButton",onClick:this.addNewCourse},"ADD A TASK ",c.a.createElement(E.MDBIcon,{icon:"plus"}))," ",c.a.createElement("span",{className:"notification"},this.state.notification),c.a.createElement(b,{show:this.state.greetings,modalClosed:this.stopGreetings},c.a.createElement("h2",null," Task done ! Yeah ! "),c.a.createElement("div",{class:"modal-i"}," ",c.a.createElement(E.MDBIcon,{icon:"thumbs-up"})," ")),c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"h blue"}," ",c.a.createElement("h3",null," ",t," ")," ",c.a.createElement("p",null," completed tasks  "),"  "),c.a.createElement("div",{className:"h pink"},"  ",c.a.createElement("h3",null,"  ",a," "),"  ",c.a.createElement("p",null," urgent tasks todo ")," "),c.a.createElement("div",{className:"h yellow"}," ",c.a.createElement("h3",null," ",n," "),"  ",c.a.createElement("p",null," semi-urgent tasks todo ")," "),c.a.createElement("div",{className:"h green"},"  ",c.a.createElement("h3",null," ",l," % ")," ",c.a.createElement("p",null," ratio of completion ")," ")),c.a.createElement("div",{className:"tiles"},r))}}]),t}(n.Component),C=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"grey-container"},c.a.createElement("header",{className:"App-header"},c.a.createElement("h1",null," TODOLIST "),c.a.createElement("h2",null," GET THINGS DONE ")),c.a.createElement(O,null))}}]),t}(n.Component);i.a.render(c.a.createElement(C,null),document.getElementById("root"))},39:function(e,t,a){e.exports=a(124)},44:function(e,t,a){},46:function(e,t,a){}},[[39,2,1]]]);
//# sourceMappingURL=main.146af0b8.chunk.js.map